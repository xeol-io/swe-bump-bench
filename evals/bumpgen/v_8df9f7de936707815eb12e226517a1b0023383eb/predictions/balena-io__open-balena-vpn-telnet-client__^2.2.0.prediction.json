{
  "modelName": "bumpgen__8df9f7de936707815eb12e226517a1b0023383eb",
  "id": "balena-io__open-balena-vpn-telnet-client__^2.2.0",
  "patch": "diff --git a/package-lock.json b/package-lock.json\nindex 9d7d9f9..53153e7 100644\n--- a/package-lock.json\n+++ b/package-lock.json\n@@ -26,7 +26,7 @@\n         \"pinejs-client-request\": \"^7.4.0\",\n         \"request\": \"^2.88.2\",\n         \"request-promise\": \"^4.2.6\",\n-        \"telnet-client\": \"^1.4.11\",\n+        \"telnet-client\": \"^2.2.0\",\n         \"typed-error\": \"^3.2.2\",\n         \"winston\": \"^3.13.0\"\n       },\n@@ -7725,11 +7725,10 @@\n       }\n     },\n     \"node_modules/telnet-client\": {\n-      \"version\": \"1.4.11\",\n-      \"resolved\": \"https://registry.npmjs.org/telnet-client/-/telnet-client-1.4.11.tgz\",\n-      \"integrity\": \"sha512-m15pRh7F74ZzWmqjUtOg3SYp8iSnH7xY1lD9hWk8icjuLRSItABPk1vRJFwSM7op6TgZuEXOWOSbiK9nknloSw==\",\n+      \"version\": \"2.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/telnet-client/-/telnet-client-2.2.0.tgz\",\n+      \"integrity\": \"sha512-mr/z2Jsk2KmjjN2gwowdtWE8rNl/OqJ9raBBvzsP3Kd5rLtIcGaZYMzF21PppCK54wL2Dx+YPoFfjO9CCLUElQ==\",\n       \"dependencies\": {\n-        \"bluebird\": \"^3.5.4\",\n         \"net\": \"^1.0.2\",\n         \"stream\": \"^0.0.2\"\n       },\ndiff --git a/package.json b/package.json\nindex 266ab91..90719cb 100644\n--- a/package.json\n+++ b/package.json\n@@ -34,7 +34,7 @@\n     \"pinejs-client-request\": \"^7.4.0\",\n     \"request\": \"^2.88.2\",\n     \"request-promise\": \"^4.2.6\",\n-    \"telnet-client\": \"^1.4.11\",\n+    \"telnet-client\": \"^2.2.0\",\n     \"typed-error\": \"^3.2.2\",\n     \"winston\": \"^3.13.0\"\n   },\ndiff --git a/src/utils/openvpn.ts b/src/utils/openvpn.ts\nindex 8a0aa11..5deb4ea 100644\n--- a/src/utils/openvpn.ts\n+++ b/src/utils/openvpn.ts\n@@ -20,12 +20,13 @@ import type { ChildProcess } from 'child_process';\n import { spawn } from 'child_process';\n import es from 'event-stream';\n import { EventEmitter } from 'eventemitter3';\n+import * as TelnetClient from 'telnet-client';\n import fs from 'fs';\n import net from 'net';\n const Telnet =\n \t// This weird import is because telnet-client uses `export =` but the typings use `export default`\n \t// eslint-disable-next-line @typescript-eslint/no-var-requires\n-\trequire('telnet-client') as typeof import('telnet-client').default;\n+\trequire('telnet-client') as typeof import('telnet-client');\n \n import { VPN_API_PORT } from './config';\n import type { Netmask } from './netmask';\n@@ -122,7 +123,7 @@ export declare interface VpnManagerEvents {\n \n export class VpnManager extends EventEmitter implements VpnManagerEvents {\n \tprivate process?: ChildProcess;\n-\tprivate readonly connector = new Telnet();\n+private readonly connector = new Telnet();\n \tprivate buf: string = '';\n \tprivate readonly pidFile: string;\n \tprivate readonly mgtHost = '127.0.0.1';\n@@ -138,7 +139,7 @@ export class VpnManager extends EventEmitter implements VpnManagerEvents {\n \t\tsuper();\n \t\tthis.pidFile = `/var/run/openvpn/server-${this.instanceId}.pid`;\n \t\t// proxy `data` events from connector, splitting at newlines\n-\t\tthis.connector.on('data', (data) => {\n+\t\tthis.connector.on('data', (data: Buffer) => {\n \t\t\tconst lines = (this.buf + data.toString()).split(/\\r?\\n/);\n \t\t\tthis.buf = lines.pop()!;\n \t\t\tfor (const line of lines) {\n"
}