{
  "modelName": "bumpgen__8df9f7de936707815eb12e226517a1b0023383eb",
  "id": "hbenl__vscode-mocha-test-adapter-minimatch__^9.0.4",
  "patch": "diff --git a/package-lock.json b/package-lock.json\nindex a1dd843..91abbd0 100644\n--- a/package-lock.json\n+++ b/package-lock.json\n@@ -1,12 +1,12 @@\n {\n   \"name\": \"vscode-mocha-test-adapter\",\n-  \"version\": \"2.13.5\",\n+  \"version\": \"2.14.1\",\n   \"lockfileVersion\": 2,\n   \"requires\": true,\n   \"packages\": {\n     \"\": {\n       \"name\": \"vscode-mocha-test-adapter\",\n-      \"version\": \"2.13.5\",\n+      \"version\": \"2.14.1\",\n       \"license\": \"MIT\",\n       \"dependencies\": {\n         \"chokidar\": \"^3.5.3\",\n@@ -14,7 +14,7 @@\n         \"dotenv\": \"^16.0.1\",\n         \"escape-string-regexp\": \"^5.0.0\",\n         \"glob\": \"^7.2.3\",\n-        \"minimatch\": \"^4.2.1\",\n+        \"minimatch\": \"^9.0.4\",\n         \"mocha\": \"^10.0.0\",\n         \"source-map-support\": \"^0.5.21\",\n         \"split\": \"^1.0.1\",\n@@ -3431,14 +3431,25 @@\n       }\n     },\n     \"node_modules/minimatch\": {\n-      \"version\": \"4.2.1\",\n-      \"resolved\": \"https://registry.npmjs.org/minimatch/-/minimatch-4.2.1.tgz\",\n-      \"integrity\": \"sha512-9Uq1ChtSZO+Mxa/CL1eGizn2vRn3MlLgzhT0Iz8zaY8NdvxvB0d5QdPFmCKf7JKA9Lerx5vRrnwO03jsSfGG9g==\",\n+      \"version\": \"9.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/minimatch/-/minimatch-9.0.4.tgz\",\n+      \"integrity\": \"sha512-KqWh+VchfxcMNRAJjj2tnsSJdNbHsVgnkBhTNrW7AjVo6OvLtxw8zfT9oLw1JSohlFzJ8jCoTgaoXvJ+kHt6fw==\",\n       \"dependencies\": {\n-        \"brace-expansion\": \"^1.1.7\"\n+        \"brace-expansion\": \"^2.0.1\"\n       },\n       \"engines\": {\n-        \"node\": \">=10\"\n+        \"node\": \">=16 || 14 >=14.17\"\n+      },\n+      \"funding\": {\n+        \"url\": \"https://github.com/sponsors/isaacs\"\n+      }\n+    },\n+    \"node_modules/minimatch/node_modules/brace-expansion\": {\n+      \"version\": \"2.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.1.tgz\",\n+      \"integrity\": \"sha512-XnAIvQ8eM+kC6aULx6wuQiwVsnzsi9d3WxzV3FpWTGA19F621kwdbsAcFKXgKUHZWsy+mY6iL1sHTxWEFCytDA==\",\n+      \"dependencies\": {\n+        \"balanced-match\": \"^1.0.0\"\n       }\n     },\n     \"node_modules/minimist\": {\n@@ -7509,11 +7520,21 @@\n       \"dev\": true\n     },\n     \"minimatch\": {\n-      \"version\": \"4.2.1\",\n-      \"resolved\": \"https://registry.npmjs.org/minimatch/-/minimatch-4.2.1.tgz\",\n-      \"integrity\": \"sha512-9Uq1ChtSZO+Mxa/CL1eGizn2vRn3MlLgzhT0Iz8zaY8NdvxvB0d5QdPFmCKf7JKA9Lerx5vRrnwO03jsSfGG9g==\",\n+      \"version\": \"9.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/minimatch/-/minimatch-9.0.4.tgz\",\n+      \"integrity\": \"sha512-KqWh+VchfxcMNRAJjj2tnsSJdNbHsVgnkBhTNrW7AjVo6OvLtxw8zfT9oLw1JSohlFzJ8jCoTgaoXvJ+kHt6fw==\",\n       \"requires\": {\n-        \"brace-expansion\": \"^1.1.7\"\n+        \"brace-expansion\": \"^2.0.1\"\n+      },\n+      \"dependencies\": {\n+        \"brace-expansion\": {\n+          \"version\": \"2.0.1\",\n+          \"resolved\": \"https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.1.tgz\",\n+          \"integrity\": \"sha512-XnAIvQ8eM+kC6aULx6wuQiwVsnzsi9d3WxzV3FpWTGA19F621kwdbsAcFKXgKUHZWsy+mY6iL1sHTxWEFCytDA==\",\n+          \"requires\": {\n+            \"balanced-match\": \"^1.0.0\"\n+          }\n+        }\n       }\n     },\n     \"minimist\": {\ndiff --git a/package.json b/package.json\nindex b530648..aaa03aa 100644\n--- a/package.json\n+++ b/package.json\n@@ -46,7 +46,7 @@\n     \"dotenv\": \"^16.0.1\",\n     \"escape-string-regexp\": \"^5.0.0\",\n     \"glob\": \"^7.2.3\",\n-    \"minimatch\": \"^4.2.1\",\n+    \"minimatch\": \"^9.0.4\",\n     \"mocha\": \"^10.0.0\",\n     \"source-map-support\": \"^0.5.21\",\n     \"split\": \"^1.0.1\",\ndiff --git a/src/adapter.ts b/src/adapter.ts\nindex 2531dfe..942cf46 100644\n--- a/src/adapter.ts\n+++ b/src/adapter.ts\n@@ -1,4 +1,5 @@\n import * as vscode from 'vscode';\n+import { EventEmitter } from 'vscode';\n import { TestAdapter, TestEvent, TestSuiteEvent, TestLoadStartedEvent, TestLoadFinishedEvent, TestRunStartedEvent, TestRunFinishedEvent, RetireEvent } from 'vscode-test-adapter-api';\n import { Log } from 'vscode-test-adapter-util';\n import { ConfigReader, AdapterConfig } from './configReader';\ndiff --git a/src/configReader.ts b/src/configReader.ts\nindex 915fd1f..738c23f 100644\n--- a/src/configReader.ts\n+++ b/src/configReader.ts\n@@ -520,7 +520,7 @@ export class ConfigReader implements IConfigReader, IDisposable {\n \tprivate absolutePathMatchesRelativeGlob(absolutePath: string, relativeGlob: string): boolean {\n \t\tabsolutePath = normalizePath(absolutePath);\n \t\tconst absoluteGlob = normalizePath(path.resolve(this.workspaceFolder.uri.fsPath, relativeGlob));\n-\t\treturn minimatch(absolutePath, absoluteGlob);\n+\t\treturn new minimatch.Minimatch(absoluteGlob).match(absolutePath);\n \t}\n \n \tprivate async isTestFile(absolutePath: string): Promise<boolean | 'config'> {\n@@ -562,7 +562,7 @@ export class ConfigReader implements IConfigReader, IDisposable {\n \t\tconst globs = config.globs;\n \t\tfor (const relativeGlob of globs) {\n \t\t\tconst absoluteGlob = normalizePath(path.resolve(this.workspaceFolder.uri.fsPath, relativeGlob));\n-\t\t\tif (minimatch(absolutePath, absoluteGlob) &&\n+\t\t\tif (new minimatch.Minimatch(absoluteGlob).match(absolutePath) &&\n \t\t\t\tconfig.ignores.every(ignore => !this.absolutePathMatchesRelativeGlob(absolutePath, ignore))) {\n \t\t\t\treturn true;\n \t\t\t}\n"
}