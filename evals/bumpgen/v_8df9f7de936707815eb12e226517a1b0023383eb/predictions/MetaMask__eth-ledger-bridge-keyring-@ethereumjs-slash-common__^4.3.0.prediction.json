{
  "modelName": "bumpgen__8df9f7de936707815eb12e226517a1b0023383eb",
  "id": "MetaMask__eth-ledger-bridge-keyring-@ethereumjs-slash-common__^4.3.0",
  "patch": "diff --git a/package.json b/package.json\nindex bafd4ab..7b3d276 100644\n--- a/package.json\n+++ b/package.json\n@@ -44,7 +44,7 @@\n     \"hdkey\": \"^2.1.0\"\n   },\n   \"devDependencies\": {\n-    \"@ethereumjs/common\": \"^3.1.1\",\n+    \"@ethereumjs/common\": \"^4.3.0\",\n     \"@lavamoat/allow-scripts\": \"^2.5.1\",\n     \"@ledgerhq/hw-app-eth\": \"^6.32.0\",\n     \"@ledgerhq/types-cryptoassets\": \"^7.6.0\",\ndiff --git a/src/ledger-keyring.test.ts b/src/ledger-keyring.test.ts\nindex 82c1801..63bc3d8 100644\n--- a/src/ledger-keyring.test.ts\n+++ b/src/ledger-keyring.test.ts\n@@ -1,6 +1,9 @@\n-import { Common, Chain, Hardfork } from '@ethereumjs/common';\n-import { RLP } from '@ethereumjs/rlp';\n-import { TransactionFactory } from '@ethereumjs/tx';\n+import Common, { Chain, Hardfork } from '@ethereumjs/common';\n+import { rlp as RLP } from '@ethereumjs/util';\n+\n+import { TransactionFactory, FeeMarketEIP1559Transaction } from '@ethereumjs/tx';\n+import { Common } from '@ethereumjs/common';\n+import { Common } from '@ethereumjs/common';\n import * as ethUtil from '@ethereumjs/util';\n import * as sigUtil from '@metamask/eth-sig-util';\n import EthereumTx from 'ethereumjs-tx';\n@@ -54,7 +57,22 @@ const fakeTx = new EthereumTx({\n   chainId: 1,\n });\n \n-const common = new Common({ chain: Chain.Mainnet, hardfork: Hardfork.Berlin });\n+import Common from '@ethereumjs/common';\n+\n+\n+import { Chain, Hardfork } from '@ethereumjs/common';\n+\n+\n+import { Chain, Hardfork } from '@ethereumjs/common';\n+import Common from '@ethereumjs/common';\n+\n+import Common, { Chain, Hardfork } from '@ethereumjs/common';\n+\n+\n+const common = Common.custom({ chainId: Chain.Mainnet, hardfork: Hardfork.Berlin });\n+import Common from '@ethereumjs/common';\n+\n+\n const commonEIP1559 = new Common({\n   chain: Chain.Mainnet,\n   hardfork: Hardfork.London,\n@@ -83,7 +101,7 @@ const fakeTypeTwoTx = TransactionFactory.fromTxData(\n     type: 2,\n     v: '0x01',\n   },\n-  { common: commonEIP1559, freeze: false },\n+  { freeze: false },\n );\n \n describe('LedgerKeyring', function () {\n@@ -569,10 +587,9 @@ describe('LedgerKeyring', function () {\n \n         await basicSetupToUnlockOneAccount();\n \n-        const signedFakeTypeTwoTx = TransactionFactory.fromTxData(\n+        const signedFakeTypeTwoTx = FeeMarketEIP1559Transaction.fromTxData(\n           {\n             ...fakeTypeTwoTx.toJSON(),\n-            type: fakeTypeTwoTx.type,\n             ...expectedRSV,\n           },\n           { common: commonEIP1559, freeze: false },\ndiff --git a/yarn.lock b/yarn.lock\nindex 776ade9..6fba4ca 100644\n--- a/yarn.lock\n+++ b/yarn.lock\n@@ -493,7 +493,7 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n-\"@ethereumjs/common@npm:^3.1.1, @ethereumjs/common@npm:^3.2.0\":\n+\"@ethereumjs/common@npm:^3.2.0\":\n   version: 3.2.0\n   resolution: \"@ethereumjs/common@npm:3.2.0\"\n   dependencies:\n@@ -503,6 +503,15 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n+\"@ethereumjs/common@npm:^4.3.0\":\n+  version: 4.3.0\n+  resolution: \"@ethereumjs/common@npm:4.3.0\"\n+  dependencies:\n+    \"@ethereumjs/util\": ^9.0.3\n+  checksum: f423ae3f3c2b9db3fbc99ab36d6ec961529abdc9defbc400f85d8553ef18f98af96dbf218b67a37f6f6e637a8e19aa9857214b63f5a932240668f84364e7d4ff\n+  languageName: node\n+  linkType: hard\n+\n \"@ethereumjs/rlp@npm:^4.0.0, @ethereumjs/rlp@npm:^4.0.1\":\n   version: 4.0.1\n   resolution: \"@ethereumjs/rlp@npm:4.0.1\"\n@@ -512,6 +521,15 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n+\"@ethereumjs/rlp@npm:^5.0.2\":\n+  version: 5.0.2\n+  resolution: \"@ethereumjs/rlp@npm:5.0.2\"\n+  bin:\n+    rlp: bin/rlp.cjs\n+  checksum: b569061ddb1f4cf56a82f7a677c735ba37f9e94e2bbaf567404beb9e2da7aa1f595e72fc12a17c61f7aec67fd5448443efe542967c685a2fe0ffc435793dcbab\n+  languageName: node\n+  linkType: hard\n+\n \"@ethereumjs/tx@npm:^4.1.1, @ethereumjs/tx@npm:^4.2.0\":\n   version: 4.2.0\n   resolution: \"@ethereumjs/tx@npm:4.2.0\"\n@@ -535,6 +553,16 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n+\"@ethereumjs/util@npm:^9.0.3\":\n+  version: 9.0.3\n+  resolution: \"@ethereumjs/util@npm:9.0.3\"\n+  dependencies:\n+    \"@ethereumjs/rlp\": ^5.0.2\n+    ethereum-cryptography: ^2.1.3\n+  checksum: 231dae61268c84d514a6c992a770559bb94a21c753c02287d08781cbeae01a6e5b5479af9f0d3d412d532fda6e9b1eeb746e617a68b738907a4a8ee4e24d79a6\n+  languageName: node\n+  linkType: hard\n+\n \"@ethersproject/abi@npm:5.7.0, @ethersproject/abi@npm:^5.5.0, @ethersproject/abi@npm:^5.7.0\":\n   version: 5.7.0\n   resolution: \"@ethersproject/abi@npm:5.7.0\"\n@@ -1595,7 +1623,7 @@ __metadata:\n   version: 0.0.0-use.local\n   resolution: \"@metamask/eth-ledger-bridge-keyring@workspace:.\"\n   dependencies:\n-    \"@ethereumjs/common\": ^3.1.1\n+    \"@ethereumjs/common\": ^4.3.0\n     \"@ethereumjs/rlp\": ^4.0.0\n     \"@ethereumjs/tx\": ^4.1.1\n     \"@ethereumjs/util\": ^8.0.0\n@@ -1679,6 +1707,15 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n+\"@noble/curves@npm:1.3.0, @noble/curves@npm:~1.3.0\":\n+  version: 1.3.0\n+  resolution: \"@noble/curves@npm:1.3.0\"\n+  dependencies:\n+    \"@noble/hashes\": 1.3.3\n+  checksum: b65342ee66c4a440eee2978524412eabba9a9efdd16d6370e15218c6a7d80bddf35e66bb57ed52c0dfd32cb9a717b439ab3a72db618f1a0066dfebe3fd12a421\n+  languageName: node\n+  linkType: hard\n+\n \"@noble/hashes@npm:1.3.1\":\n   version: 1.3.1\n   resolution: \"@noble/hashes@npm:1.3.1\"\n@@ -1686,6 +1723,13 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n+\"@noble/hashes@npm:1.3.3, @noble/hashes@npm:~1.3.2\":\n+  version: 1.3.3\n+  resolution: \"@noble/hashes@npm:1.3.3\"\n+  checksum: 8a6496d1c0c64797339bc694ad06cdfaa0f9e56cd0c3f68ae3666cfb153a791a55deb0af9c653c7ed2db64d537aa3e3054629740d2f2338bb1dcb7ab60cd205b\n+  languageName: node\n+  linkType: hard\n+\n \"@noble/hashes@npm:^1.3.1, @noble/hashes@npm:~1.3.0, @noble/hashes@npm:~1.3.1\":\n   version: 1.3.2\n   resolution: \"@noble/hashes@npm:1.3.2\"\n@@ -1786,6 +1830,13 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n+\"@scure/base@npm:~1.1.4\":\n+  version: 1.1.6\n+  resolution: \"@scure/base@npm:1.1.6\"\n+  checksum: d6deaae91deba99e87939af9e55d80edba302674983f32bba57f942e22b1726a83c62dc50d8f4370a5d5d35a212dda167fb169f4b0d0c297488d8604608fc3d3\n+  languageName: node\n+  linkType: hard\n+\n \"@scure/bip32@npm:1.3.1\":\n   version: 1.3.1\n   resolution: \"@scure/bip32@npm:1.3.1\"\n@@ -1797,6 +1848,17 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n+\"@scure/bip32@npm:1.3.3\":\n+  version: 1.3.3\n+  resolution: \"@scure/bip32@npm:1.3.3\"\n+  dependencies:\n+    \"@noble/curves\": ~1.3.0\n+    \"@noble/hashes\": ~1.3.2\n+    \"@scure/base\": ~1.1.4\n+  checksum: f939ca733972622fcc1e61d4fdf170a0ad294b24ddb7ed7cdd4c467e1ef283b970154cb101cf5f1a7b64cf5337e917ad31135911dfc36b1d76625320167df2fa\n+  languageName: node\n+  linkType: hard\n+\n \"@scure/bip39@npm:1.2.1\":\n   version: 1.2.1\n   resolution: \"@scure/bip39@npm:1.2.1\"\n@@ -1807,6 +1869,16 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n+\"@scure/bip39@npm:1.2.2\":\n+  version: 1.2.2\n+  resolution: \"@scure/bip39@npm:1.2.2\"\n+  dependencies:\n+    \"@noble/hashes\": ~1.3.2\n+    \"@scure/base\": ~1.1.4\n+  checksum: cb99505e6d2deef8e55e81df8c563ce8dbfdf1595596dc912bceadcf366c91b05a98130e928ecb090df74efdb20150b64acc4be55bc42768cab4d39a2833d234\n+  languageName: node\n+  linkType: hard\n+\n \"@sinclair/typebox@npm:^0.24.1\":\n   version: 0.24.51\n   resolution: \"@sinclair/typebox@npm:0.24.51\"\n@@ -3987,6 +4059,18 @@ __metadata:\n   languageName: node\n   linkType: hard\n \n+\"ethereum-cryptography@npm:^2.1.3\":\n+  version: 2.1.3\n+  resolution: \"ethereum-cryptography@npm:2.1.3\"\n+  dependencies:\n+    \"@noble/curves\": 1.3.0\n+    \"@noble/hashes\": 1.3.3\n+    \"@scure/bip32\": 1.3.3\n+    \"@scure/bip39\": 1.2.2\n+  checksum: 7f9c14f868a588641179cace3eb86c332c4743290865db699870710253cabc4dc74bd4bce5e7bc6db667482e032e94d6f79521219eb6be5dc422059d279a27b7\n+  languageName: node\n+  linkType: hard\n+\n \"ethereumjs-tx@npm:^1.3.4\":\n   version: 1.3.7\n   resolution: \"ethereumjs-tx@npm:1.3.7\"\n"
}