import { z } from "zod";

export const PredictionSchema = z.object({
  // the name of the model that generated the prediction
  modelName: z.string(),
  // the task id
  id: z.string(),
  // the git diff patch generated by the model
  patch: z.string(),
});

export const TaskSchema = z.object({
  id: z.string(),
  name: z.string(),
  owner: z.string(),
  pkgManager: z.string(),
  package: z.string(),
  versionTo: z.string(),
  nodeVersion: z.string(),
  commit: z.string(),
});

export const TasksSchema = z.array(TaskSchema);
export const PredictionsSchema = z.array(PredictionSchema);

export type Prediction = z.infer<typeof PredictionSchema>;
export type Predictions = z.infer<typeof PredictionsSchema>;

export type Task = z.infer<typeof TaskSchema>;
export type Tasks = z.infer<typeof TasksSchema>;
